{
  "runId": "judge-2026-02-13T13-01-36-123Z",
  "generatedAt": "2026-02-13T13:02:48.903Z",
  "sourceReport": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/reports/run-2026-02-13T12-47-47-098Z-3008049-39bgg.json",
  "sourceSummary": {
    "runId": "run-2026-02-13T12-47-47-098Z-3008049-39bgg",
    "startedAt": "2026-02-13T12:47:47.098Z",
    "endedAt": "2026-02-13T12:50:24.756Z",
    "durationMs": 157658,
    "baseUrl": "http://127.0.0.1:8131",
    "scenarioFile": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/scenarios.json",
    "totalScenarios": 5,
    "passedScenarios": 2,
    "failedScenarios": 3,
    "passRate": 0.4,
    "totalChecks": 45,
    "passedChecks": 40,
    "failedChecks": 5,
    "checkPassRate": 0.8889,
    "targetPassCount": 4,
    "targetPassRate": 0.8,
    "targetReached": false,
    "authUser": {
      "id": "bb1de8c3-658c-46cc-9fa4-c8629b43f3d7",
      "email": "qa.ai.runner@example.com",
      "name": "AI QA Runner",
      "role": "user",
      "plan": "paid"
    },
    "totalTurnsExecuted": 15,
    "avgTurnLatencyMs": 10498.87,
    "totalTurnLatencyMs": 157483,
    "totalStubReplies": 0,
    "totalBusyRetries": 0,
    "totalRateLimitRetries": 0,
    "totalStubRetries": 0,
    "stoppedEarly": false,
    "stopReason": null
  },
  "totalScenarios": 3,
  "judges": [
    {
      "judge": "kimi",
      "summary": {
        "total": 3,
        "averageUsefulness": 2.333,
        "usefulCount": 1,
        "notUsefulCount": 2,
        "usefulRate": 0.3333,
        "zeroUsefulnessCount": 0,
        "averageUserSatisfaction": 0.35,
        "continueCount": 1,
        "continueRate": 0.3333,
        "genericFallbackCount": 3,
        "genericFallbackRate": 1,
        "synthesizedRatingCount": 0,
        "synthesizedRatingRate": 0,
        "averageContinuityScore": 1,
        "topIssues": [
          {
            "issue": "turn 3: трижды указана одна и та же компания 'пластлайн ооо' с разными ссылками (plastline, ankirsplast, centroplast)",
            "count": 1
          },
          {
            "issue": "полное игнорирование района сухарево в финальном ответе",
            "count": 1
          },
          {
            "issue": "некорректный формат ranking — дублирование вместо топ-3 разных поставщиков",
            "count": 1
          },
          {
            "issue": "turn 3: дублирование 'энергославпром ооо' дважды с разными ссылками",
            "count": 1
          },
          {
            "issue": "не ответил на вопрос 'что уточнить по сертификатам'",
            "count": 1
          },
          {
            "issue": "вместо топ-3 дал топ-2 с дублированием",
            "count": 1
          },
          {
            "issue": "turn 3: катастрофический fallback — вместо ranking по надежности дал пустой отказ",
            "count": 1
          },
          {
            "issue": "полное игнорирование накопленного контекста (3 поставщика из turn 1-2)",
            "count": 1
          },
          {
            "issue": "не использовал данные из предыдущих turn для оценки рисков",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "S001",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.35,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 1,
            "reasons": [
              "Turn 1: хороший список из 5 поставщиков ПНД труб в Минске с контактами",
              "Turn 3: критический провал — дублирует одну компанию 3 раза с ошибками в ссылках, игнорирует уточнение по району Сухарево"
            ],
            "criticalIssues": [
              "Turn 3: трижды указана одна и та же компания 'ПластЛайн ООО' с разными ссылками (plastline, ankirsplast, centroplast)",
              "Полное игнорирование района Сухарево в финальном ответе"
            ]
          },
          {
            "scenarioId": "S003",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.2,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 0,
            "reasons": [
              "Turn 1: отличный ответ — 3 поставщика с контактами и практичным чек-листом вопросов",
              "Turn 2: приемлемо — честно признал отсутствие привязки к микрорайону, сохранил контекст объема 45 м³"
            ],
            "criticalIssues": [
              "Turn 3: катастрофический fallback — вместо ranking по надежности дал пустой отказ",
              "Полное игнорирование накопленного контекста (3 поставщика из turn 1-2)"
            ]
          },
          {
            "scenarioId": "S002",
            "usefulness": 3,
            "verdict": "useful",
            "userSatisfaction": 0.5,
            "wouldContinue": true,
            "feltGenericFallback": true,
            "continuityScore": 2,
            "reasons": [
              "Turn 1: хороший список из 5 поставщиков кабеля в Гомеле с полезным советом уточнить ГОСТ/ТУ",
              "Turn 2: корректно сузил до Советского района, нашел 3 поставщиков"
            ],
            "criticalIssues": [
              "Turn 3: дублирование 'ЭнергоСлавПром ООО' дважды с разными ссылками",
              "Не ответил на вопрос 'что уточнить по сертификатам'"
            ]
          }
        ]
      },
      "diagnostics": {
        "totalBatches": 1,
        "nonJsonRetryBatches": 0,
        "schemaRetryBatches": 0,
        "synthesizedBatches": 0,
        "synthesizedRatingCount": 0,
        "nonJsonRetryRate": 0,
        "schemaRetryRate": 0,
        "synthesizedBatchRate": 0,
        "synthesizedRatingRate": 0
      },
      "ratings": [
        {
          "scenarioId": "S001",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.85,
          "userSatisfaction": 0.35,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 1,
          "reasons": [
            "Turn 1: хороший список из 5 поставщиков ПНД труб в Минске с контактами",
            "Turn 3: критический провал — дублирует одну компанию 3 раза с ошибками в ссылках, игнорирует уточнение по району Сухарево"
          ],
          "criticalIssues": [
            "Turn 3: трижды указана одна и та же компания 'ПластЛайн ООО' с разными ссылками (plastline, ankirsplast, centroplast)",
            "Полное игнорирование района Сухарево в финальном ответе",
            "Некорректный формат ranking — дублирование вместо топ-3 разных поставщиков"
          ],
          "strengths": [
            "Turn 1 дал релевантный список с контактами",
            "Turn 2 попытался учесть район, хотя результат слабый"
          ],
          "nextUserProbe": "Почему вы три раза указали одну компанию? Мне нужны РАЗНЫЕ поставщики в Сухарево.",
          "judge": "kimi",
          "synthesized": false
        },
        {
          "scenarioId": "S002",
          "usefulness": 3,
          "verdict": "useful",
          "confidence": 0.75,
          "userSatisfaction": 0.5,
          "wouldContinue": true,
          "feltGenericFallback": true,
          "continuityScore": 2,
          "reasons": [
            "Turn 1: хороший список из 5 поставщиков кабеля в Гомеле с полезным советом уточнить ГОСТ/ТУ",
            "Turn 2: корректно сузил до Советского района, нашел 3 поставщиков",
            "Turn 3: частичный fallback — дублирует одну компанию 2 раза, не отвечает на вопрос про сертификаты"
          ],
          "criticalIssues": [
            "Turn 3: дублирование 'ЭнергоСлавПром ООО' дважды с разными ссылками",
            "Не ответил на вопрос 'что уточнить по сертификатам'",
            "Вместо топ-3 дал топ-2 с дублированием"
          ],
          "strengths": [
            "Turn 1 и 2 показывают понимание задачи и географии",
            "Честно указал на ограничения данных",
            "Совет про ГОСТ/ТУ в Turn 1 был практичным"
          ],
          "nextUserProbe": "Вы не ответили про сертификаты. Какие документы проверить у поставщика кабеля ВВГнг?",
          "judge": "kimi",
          "synthesized": false
        },
        {
          "scenarioId": "S003",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.9,
          "userSatisfaction": 0.2,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 0,
          "reasons": [
            "Turn 1: отличный ответ — 3 поставщика с контактами и практичным чек-листом вопросов",
            "Turn 2: приемлемо — честно признал отсутствие привязки к микрорайону, сохранил контекст объема 45 м³",
            "Turn 3: полный отказ 'В карточках клиентов нет информации' — драматический fallback после хороших turn 1-2"
          ],
          "criticalIssues": [
            "Turn 3: катастрофический fallback — вместо ranking по надежности дал пустой отказ",
            "Полное игнорирование накопленного контекста (3 поставщика из turn 1-2)",
            "Не использовал данные из предыдущих turn для оценки рисков"
          ],
          "strengths": [
            "Turn 1: идеальный ответ для прораба — конкретика + чек-лист",
            "Turn 2: честность про отсутствие данных по микрорайону"
          ],
          "nextUserProbe": "У вас же были 3 поставщика! Почему не можете сравнить их по надежности?",
          "judge": "kimi",
          "synthesized": false
        }
      ]
    },
    {
      "judge": "codex",
      "summary": {
        "total": 3,
        "averageUsefulness": 1.667,
        "usefulCount": 0,
        "notUsefulCount": 3,
        "usefulRate": 0,
        "zeroUsefulnessCount": 0,
        "averageUserSatisfaction": 0.27,
        "continueCount": 1,
        "continueRate": 0.3333,
        "genericFallbackCount": 2,
        "genericFallbackRate": 0.6667,
        "synthesizedRatingCount": 0,
        "synthesizedRatingRate": 0,
        "averageContinuityScore": 1.667,
        "topIssues": [
          {
            "issue": "добавлен нерелевантный поставщик (электротехнический профиль) для запроса по пнд трубам.",
            "count": 1
          },
          {
            "issue": "в финальном рейтинге перепутаны/дублированы названия компаний.",
            "count": 1
          },
          {
            "issue": "не выполнено требование «коротко почему» по надежности.",
            "count": 1
          },
          {
            "issue": "потеряно ограничение «советский район» в финальном ответе.",
            "count": 1
          },
          {
            "issue": "запрошен топ-3, но выдано 2 позиции с ошибкой в названии/соответствии карточки.",
            "count": 1
          },
          {
            "issue": "нет конкретного чек-листа по сертификатам для ввгнг 3х2.5 (что именно запросить и проверить).",
            "count": 1
          },
          {
            "issue": "финальный ответ «нет информации» не использует уже собранных 3 кандидатов.",
            "count": 1
          },
          {
            "issue": "не дан даже предварительный риск-рейтинг при жестком дедлайне.",
            "count": 1
          },
          {
            "issue": "отсутствуют конкретные next steps для снижения риска срыва поставки.",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "S002",
            "usefulness": 1,
            "verdict": "not_useful",
            "userSatisfaction": 0.2,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 1,
            "reasons": [
              "Первые 2 шага были релевантны, но финальный ответ сорвал задачу закупки.",
              "Вместо топ-3 и сертификатов получился неполный и частично некорректный шаблонный ответ."
            ],
            "criticalIssues": [
              "Потеряно ограничение «Советский район» в финальном ответе.",
              "Запрошен топ-3, но выдано 2 позиции с ошибкой в названии/соответствии карточки."
            ]
          },
          {
            "scenarioId": "S003",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.27,
            "wouldContinue": false,
            "feltGenericFallback": false,
            "continuityScore": 2,
            "reasons": [
              "Первые ответы дали контакты и рабочие уточнения под объем 45 м3.",
              "На ключевом запросе про рейтинг надежности ассистент фактически отказался продолжать."
            ],
            "criticalIssues": [
              "Финальный ответ «нет информации» не использует уже собранных 3 кандидатов.",
              "Не дан даже предварительный риск-рейтинг при жестком дедлайне."
            ]
          },
          {
            "scenarioId": "S001",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.34,
            "wouldContinue": true,
            "feltGenericFallback": true,
            "continuityScore": 2,
            "reasons": [
              "Стартовый список с контактами дал практическую базу для обзвона.",
              "После уточнения по району и в финальном топ-3 ответы стали шумными и с ошибками."
            ],
            "criticalIssues": [
              "Добавлен нерелевантный поставщик (электротехнический профиль) для запроса по ПНД трубам.",
              "В финальном рейтинге перепутаны/дублированы названия компаний."
            ]
          }
        ]
      },
      "diagnostics": {
        "totalBatches": 1,
        "nonJsonRetryBatches": 0,
        "schemaRetryBatches": 0,
        "synthesizedBatches": 0,
        "synthesizedRatingCount": 0,
        "nonJsonRetryRate": 0,
        "schemaRetryRate": 0,
        "synthesizedBatchRate": 0,
        "synthesizedRatingRate": 0
      },
      "ratings": [
        {
          "scenarioId": "S001",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.9,
          "userSatisfaction": 0.34,
          "wouldContinue": true,
          "feltGenericFallback": true,
          "continuityScore": 2,
          "reasons": [
            "Стартовый список с контактами дал практическую базу для обзвона.",
            "После уточнения по району и в финальном топ-3 ответы стали шумными и с ошибками."
          ],
          "criticalIssues": [
            "Добавлен нерелевантный поставщик (электротехнический профиль) для запроса по ПНД трубам.",
            "В финальном рейтинге перепутаны/дублированы названия компаний.",
            "Не выполнено требование «коротко почему» по надежности."
          ],
          "strengths": [
            "Быстро даны локальные кандидаты и телефоны в Минске."
          ],
          "nextUserProbe": "Собери заново топ-3 по ПНД для Сухарево и добавь по одной конкретной причине надежности на каждого.",
          "judge": "codex",
          "synthesized": false
        },
        {
          "scenarioId": "S002",
          "usefulness": 1,
          "verdict": "not_useful",
          "confidence": 0.94,
          "userSatisfaction": 0.2,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 1,
          "reasons": [
            "Первые 2 шага были релевантны, но финальный ответ сорвал задачу закупки.",
            "Вместо топ-3 и сертификатов получился неполный и частично некорректный шаблонный ответ."
          ],
          "criticalIssues": [
            "Потеряно ограничение «Советский район» в финальном ответе.",
            "Запрошен топ-3, но выдано 2 позиции с ошибкой в названии/соответствии карточки.",
            "Нет конкретного чек-листа по сертификатам для ВВГнг 3х2.5 (что именно запросить и проверить)."
          ],
          "strengths": [
            "Стартовая выдача по Гомелю и оптовому контексту была полезной."
          ],
          "nextUserProbe": "Верни фильтр по Советскому району и дай 3 поставщика плюс конкретный чек-лист сертификатов/документов для ВВГнг 3х2.5.",
          "judge": "codex",
          "synthesized": false
        },
        {
          "scenarioId": "S003",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.89,
          "userSatisfaction": 0.27,
          "wouldContinue": false,
          "feltGenericFallback": false,
          "continuityScore": 2,
          "reasons": [
            "Первые ответы дали контакты и рабочие уточнения под объем 45 м3.",
            "На ключевом запросе про рейтинг надежности ассистент фактически отказался продолжать."
          ],
          "criticalIssues": [
            "Финальный ответ «нет информации» не использует уже собранных 3 кандидатов.",
            "Не дан даже предварительный риск-рейтинг при жестком дедлайне.",
            "Отсутствуют конкретные next steps для снижения риска срыва поставки."
          ],
          "strengths": [
            "Есть честное указание на ограничение данных по микрорайону и предложена доставка в Южный."
          ],
          "nextUserProbe": "Сделай хотя бы предварительный топ-3 по надежности из этих трех и дай риски/вопросы для подтверждения отгрузки на следующей неделе.",
          "judge": "codex",
          "synthesized": false
        }
      ]
    }
  ],
  "comparison": {
    "geminiAvg": null,
    "kimiAvg": 2.333,
    "minimaxAvg": null,
    "geminiUserSatisfaction": null,
    "kimiUserSatisfaction": 0.35,
    "geminiContinueRate": null,
    "kimiContinueRate": 0.3333,
    "geminiGenericFallbackRate": null,
    "kimiGenericFallbackRate": 1,
    "avgGap": null,
    "usefulRateGap": null,
    "pairwise": [
      {
        "left": "kimi",
        "right": "codex",
        "avgGap": 0.666,
        "usefulRateGap": 0.3333,
        "userSatisfactionGap": 0.08,
        "continueRateGap": 0,
        "genericFallbackRateGap": 0.3333
      }
    ]
  },
  "gate": {
    "enabled": false,
    "pass": true,
    "failures": [],
    "checks": []
  }
}
