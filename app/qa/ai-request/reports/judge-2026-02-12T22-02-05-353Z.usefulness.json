{
  "runId": "judge-2026-02-12T22-02-05-353Z",
  "generatedAt": "2026-02-12T22:02:31.570Z",
  "sourceReport": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/reports/run-2026-02-12T15-47-04-094Z-90489-vjdpy.json",
  "sourceSummary": {
    "runId": "run-2026-02-12T15-47-04-094Z-90489-vjdpy",
    "startedAt": "2026-02-12T15:47:04.094Z",
    "endedAt": "2026-02-12T15:50:27.993Z",
    "durationMs": 203899,
    "baseUrl": "http://127.0.0.1:8131",
    "scenarioFile": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/scenarios.json",
    "totalScenarios": 50,
    "passedScenarios": 32,
    "failedScenarios": 18,
    "passRate": 0.64,
    "totalChecks": 452,
    "passedChecks": 423,
    "failedChecks": 29,
    "checkPassRate": 0.9358,
    "targetPassCount": 45,
    "targetPassRate": 0.9,
    "targetReached": false,
    "authUser": {
      "id": "bb1de8c3-658c-46cc-9fa4-c8629b43f3d7",
      "email": "qa.ai.runner@example.com",
      "name": "AI QA Runner",
      "role": "user",
      "plan": "paid"
    },
    "totalTurnsExecuted": 150,
    "avgTurnLatencyMs": 1356.93,
    "totalTurnLatencyMs": 203539,
    "totalStubReplies": 0,
    "totalBusyRetries": 0,
    "totalRateLimitRetries": 1,
    "totalStubRetries": 0,
    "stoppedEarly": false,
    "stopReason": null
  },
  "totalScenarios": 5,
  "judges": [
    {
      "judge": "kimi",
      "summary": {
        "total": 5,
        "averageUsefulness": 1.6,
        "usefulCount": 1,
        "notUsefulCount": 4,
        "usefulRate": 0.2,
        "zeroUsefulnessCount": 1,
        "averageUserSatisfaction": 0.28,
        "continueCount": 1,
        "continueRate": 0.2,
        "genericFallbackCount": 4,
        "genericFallbackRate": 0.8,
        "synthesizedRatingCount": 0,
        "synthesizedRatingRate": 0,
        "averageContinuityScore": 0.8,
        "topIssues": [
          {
            "issue": "wrong industry entirely - no actual pipe suppliers found",
            "count": 1
          },
          {
            "issue": "location constraint 'сухарево' completely ignored in all turns",
            "count": 1
          },
          {
            "issue": "generic fallback to ranking rubric instead of concrete sourcing help",
            "count": 1
          },
          {
            "issue": "district constraint ignored - no filtering by советский район",
            "count": 1
          },
          {
            "issue": "no actual certificate information provided when explicitly requested",
            "count": 1
          },
          {
            "issue": "location refinement 'южный' ignored throughout",
            "count": 1
          },
          {
            "issue": "final ranking loses the actually relevant concrete suppliers",
            "count": 1
          },
          {
            "issue": "generic risk advice instead of concrete delivery reliability assessment",
            "count": 1
          },
          {
            "issue": "district constraint 'уручье' completely ignored",
            "count": 1
          },
          {
            "issue": "final shortlist corrupted - only 1 of 3 is actual cleaning company",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "S005",
            "usefulness": 0,
            "verdict": "not_useful",
            "userSatisfaction": 0.05,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 0,
            "reasons": [
              "First turn acceptable - identified relevant tire service companies",
              "After 'Каменная Горка' constraint, returns completely irrelevant list (dentist, tailor, computers, metro construction)"
            ],
            "criticalIssues": [
              "Catastrophic relevance failure - dentist, tailor, computer shop for tire service request",
              "Location constraint handling broken - returns random companies"
            ]
          },
          {
            "scenarioId": "S001",
            "usefulness": 1,
            "verdict": "not_useful",
            "userSatisfaction": 0.2,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 0,
            "reasons": [
              "Assistant completely ignores 'Сухарево' constraint - repeats same irrelevant companies",
              "ADT center is auto parts, not pipes - zero relevance to ПНД трубы request"
            ],
            "criticalIssues": [
              "Wrong industry entirely - no actual pipe suppliers found",
              "Location constraint 'Сухарево' completely ignored in all turns"
            ]
          },
          {
            "scenarioId": "S003",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.3,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 1,
            "reasons": [
              "Initial list has relevant concrete companies (Современные Бетонные Технологии, ЭЛЕДИ-Групп)",
              "'Южный' constraint completely ignored - same list repeated"
            ],
            "criticalIssues": [
              "Location refinement 'Южный' ignored throughout",
              "Final ranking loses the actually relevant concrete suppliers"
            ]
          },
          {
            "scenarioId": "S004",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.35,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 1,
            "reasons": [
              "First turn good - relevant cleaning companies identified",
              "'Уручье' location ignored - same companies repeated"
            ],
            "criticalIssues": [
              "District constraint 'Уручье' completely ignored",
              "Final shortlist corrupted - only 1 of 3 is actual cleaning company"
            ]
          },
          {
            "scenarioId": "S002",
            "usefulness": 3,
            "verdict": "useful",
            "userSatisfaction": 0.5,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 2,
            "reasons": [
              "First turn correctly identifies Гомелькабель - relevant cable manufacturer",
              "Ignores 'Советский район' constraint in turn 2 - just repeats same list"
            ],
            "criticalIssues": [
              "District constraint ignored - no filtering by Советский район",
              "No actual certificate information provided when explicitly requested"
            ]
          }
        ]
      },
      "diagnostics": {
        "totalBatches": 1,
        "nonJsonRetryBatches": 0,
        "schemaRetryBatches": 0,
        "synthesizedBatches": 0,
        "synthesizedRatingCount": 0,
        "nonJsonRetryRate": 0,
        "schemaRetryRate": 0,
        "synthesizedBatchRate": 0,
        "synthesizedRatingRate": 0
      },
      "ratings": [
        {
          "scenarioId": "S001",
          "usefulness": 1,
          "verdict": "not_useful",
          "confidence": 0.85,
          "userSatisfaction": 0.2,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 0,
          "reasons": [
            "Assistant completely ignores 'Сухарево' constraint - repeats same irrelevant companies",
            "ADT center is auto parts, not pipes - zero relevance to ПНД трубы request",
            "Top-3 ranking includes bathhouse and ventilation companies, no pipe suppliers"
          ],
          "criticalIssues": [
            "Wrong industry entirely - no actual pipe suppliers found",
            "Location constraint 'Сухарево' completely ignored in all turns",
            "Generic fallback to ranking rubric instead of concrete sourcing help"
          ],
          "strengths": [
            "Provides company contacts with phones"
          ],
          "nextUserProbe": "Почему вы показываете автозапчасти и бани, когда мне нужны ПНД трубы в Сухарево?",
          "judge": "kimi",
          "synthesized": false
        },
        {
          "scenarioId": "S002",
          "usefulness": 3,
          "verdict": "useful",
          "confidence": 0.75,
          "userSatisfaction": 0.5,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 2,
          "reasons": [
            "First turn correctly identifies Гомелькабель - relevant cable manufacturer",
            "Ignores 'Советский район' constraint in turn 2 - just repeats same list",
            "Final shortlist at least has relevant companies but no certification details"
          ],
          "criticalIssues": [
            "District constraint ignored - no filtering by Советский район",
            "No actual certificate information provided when explicitly requested"
          ],
          "strengths": [
            "Гомелькабель СОАО is actually relevant - cable manufacturer",
            "Provides phone contacts for follow-up"
          ],
          "nextUserProbe": "А кто из них в Советском районе? И где конкретно про сертификаты?",
          "judge": "kimi",
          "synthesized": false
        },
        {
          "scenarioId": "S003",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.8,
          "userSatisfaction": 0.3,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 1,
          "reasons": [
            "Initial list has relevant concrete companies (Современные Бетонные Технологии, ЭЛЕДИ-Групп)",
            "'Южный' constraint completely ignored - same list repeated",
            "Final ranking drops concrete suppliers, adds road construction and materials trading companies"
          ],
          "criticalIssues": [
            "Location refinement 'Южный' ignored throughout",
            "Final ranking loses the actually relevant concrete suppliers",
            "Generic risk advice instead of concrete delivery reliability assessment"
          ],
          "strengths": [
            "First two turns identified real concrete suppliers",
            "Mentioned volume and deadline context"
          ],
          "nextUserProbe": "Почему в итоговом рейтинге нет тех бетонных заводов что были в начале?",
          "judge": "kimi",
          "synthesized": false
        },
        {
          "scenarioId": "S004",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.8,
          "userSatisfaction": 0.35,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 1,
          "reasons": [
            "First turn good - relevant cleaning companies identified",
            "'Уручье' location ignored - same companies repeated",
            "Final top-3 includes construction company and wholesale trader, not cleaning services"
          ],
          "criticalIssues": [
            "District constraint 'Уручье' completely ignored",
            "Final shortlist corrupted - only 1 of 3 is actual cleaning company",
            "No info on безнал/договор despite explicit request"
          ],
          "strengths": [
            "Good initial relevant list of cleaning companies",
            "Has phone contacts"
          ],
          "nextUserProbe": "Вы снова игнорируете Уручье, и где информация про безнал и договор?",
          "judge": "kimi",
          "synthesized": false
        },
        {
          "scenarioId": "S005",
          "usefulness": 0,
          "verdict": "not_useful",
          "confidence": 0.9,
          "userSatisfaction": 0.05,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 0,
          "reasons": [
            "First turn acceptable - identified relevant tire service companies",
            "After 'Каменная Горка' constraint, returns completely irrelevant list (dentist, tailor, computers, metro construction)",
            "Final recommendation suggests calling dentist and tailor for tire service"
          ],
          "criticalIssues": [
            "Catastrophic relevance failure - dentist, tailor, computer shop for tire service request",
            "Location constraint handling broken - returns random companies",
            "Completely unusable final recommendation"
          ],
          "strengths": [
            "First turn had relevant tire service options"
          ],
          "nextUserProbe": "Это что за бред? Почему стоматология и ателье в ответе про шиномонтаж?",
          "judge": "kimi",
          "synthesized": false
        }
      ]
    }
  ],
  "comparison": {
    "geminiAvg": null,
    "kimiAvg": 1.6,
    "minimaxAvg": null,
    "geminiUserSatisfaction": null,
    "kimiUserSatisfaction": 0.28,
    "geminiContinueRate": null,
    "kimiContinueRate": 0.2,
    "geminiGenericFallbackRate": null,
    "kimiGenericFallbackRate": 0.8,
    "avgGap": null,
    "usefulRateGap": null,
    "pairwise": []
  },
  "gate": {
    "enabled": false,
    "pass": true,
    "failures": [],
    "checks": []
  }
}
