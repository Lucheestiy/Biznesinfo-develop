{
  "meta": {
    "scenarioMeta": {
      "version": "1.0",
      "generatedAt": "2026-02-08T01:48:42.674Z",
      "source": "chatgpt-pro-test-document",
      "sourceDocument": "devloop/AI_ASSISTANT_TEST_QUESTIONS_CHATGPT_PRO.md",
      "description": "Master QA scenario pack aggregated from scenarios derived from ChatGPT Pro user question bank (15 multi-turn + 120 short bank + dirty real-world bonus).",
      "sourceScenarioFiles": [
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-3-scenarios.json",
          "scenarioCount": 3,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-6-scenarios.json",
          "scenarioCount": 3,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-9-scenarios.json",
          "scenarioCount": 3,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-12-scenarios.json",
          "scenarioCount": 3,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-15-scenarios.json",
          "scenarioCount": 3,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-a-company-search.json",
          "scenarioCount": 24,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-b-suppliers-contractors.json",
          "scenarioCount": 24,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-c-comparison-selection.json",
          "scenarioCount": 18,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-d-counterparty-requisites.json",
          "scenarioCount": 18,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-e-placement-editing.json",
          "scenarioCount": 18,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-f-text-templates.json",
          "scenarioCount": 12,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.regressions.user-120-bank-g-errors-stress.json",
          "scenarioCount": 6,
          "source": "user-provided"
        },
        {
          "file": "app/qa/ai-request/scenarios.dirty.realworld.json",
          "scenarioCount": 11,
          "source": "10 real-world dirty queries (telegraphic, short, typo-like) + follow-up turns for continuity and structured output checks"
        }
      ],
      "totalScenarios": 146
    },
    "options": {
      "baseUrl": "http://127.0.0.1:8131",
      "email": "qa.ai.runner@example.com",
      "preparePaid": true,
      "paidLimit": 2500,
      "maxScenarios": 1,
      "onlyTags": [],
      "maxRateLimitRetries": 4,
      "maxStubRetries": 2,
      "minTurnDelayMs": 120,
      "stubOutageThreshold": 12,
      "targetPassCount": null,
      "targetPassRate": null
    }
  },
  "summary": {
    "runId": "run-2026-02-08T01-48-52-347Z",
    "startedAt": "2026-02-08T01:48:52.347Z",
    "endedAt": "2026-02-08T01:49:10.224Z",
    "durationMs": 17877,
    "baseUrl": "http://127.0.0.1:8131",
    "scenarioFile": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/scenarios.chatgpt-pro.master.json",
    "totalScenarios": 1,
    "passedScenarios": 1,
    "failedScenarios": 0,
    "passRate": 1,
    "totalChecks": 9,
    "passedChecks": 9,
    "failedChecks": 0,
    "checkPassRate": 1,
    "targetPassCount": 1,
    "targetPassRate": 0.8,
    "targetReached": true,
    "authUser": {
      "id": "bb1de8c3-658c-46cc-9fa4-c8629b43f3d7",
      "email": "qa.ai.runner@example.com",
      "name": "AI QA Runner",
      "role": "user",
      "plan": "paid"
    },
    "stoppedEarly": false,
    "stopReason": null
  },
  "runStop": null,
  "topFailurePatterns": [],
  "scenarios": [
    {
      "id": "UX101",
      "title": "Закупка гофрокоробов: Минск, опт, доставка, брендирование",
      "tags": [
        "sourcing",
        "packaging",
        "multi_turn",
        "ranking"
      ],
      "personaGoal": "Менеджер по закупкам хочет получить 3-5 поставщиков и короткое сравнение по условиям.",
      "totalTurns": 3,
      "completedTurns": 3,
      "pass": true,
      "hardError": null,
      "failedChecks": [],
      "turns": [
        {
          "turn": 1,
          "user": "Нужны поставщики гофрокоробов в Минске. Интересует опт, доставка, сроки до 7 дней.",
          "requestBody": {
            "message": "Нужны поставщики гофрокоробов в Минске. Интересует опт, доставка, сроки до 7 дней.",
            "history": []
          },
          "latencyMs": 3709,
          "apiOk": true,
          "status": 200,
          "retryMeta": {
            "quota": 0,
            "busy": 0,
            "rateLimited": 0,
            "stub": 0
          },
          "requestId": "5c4f6f59-6faa-4f9b-9ca4-401424db9111",
          "isStub": false,
          "reply": "Подходящий кандидат из доступного списка:\n\n1) **АМ-АРТ ООО** — тара и упаковка, Минск (подходит по профилю “тара и упаковка”). /company/biznesinfo-99545\n\nСильных кандидатов в списке пока только 1. Могу сузить/расширить поиск, если уточните:\n1) Какие размеры/тип гофрокоробов нужны (марка картона, профиль)?\n2) Ориентировочный объём/периодичность опта?\n3) Нужна доставка по Минску или в область тоже?\n\nШаблон сравнения поставщиков:\n1. Цена за единицу и условия оплаты.\n2. Срок изготовления/отгрузки и доступность доставки.\n3. Минимальная партия (MOQ) и ограничения по тиражу.\n4. Контакты менеджера и сайт компании для быстрой верификации.",
          "checks": [
            {
              "id": "UX101.T1.C1",
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "passed": true,
              "reason": "Reply is non-stub",
              "details": {
                "isStub": false
              }
            },
            {
              "id": "UX101.T1.C2",
              "type": "includes_any",
              "description": "Ответ должен быть по теме упаковки/поставщиков",
              "passed": true,
              "reason": "Matched at least one pattern",
              "details": {
                "patterns": [
                  "гофр",
                  "короб",
                  "упаков",
                  "поставщ",
                  "опт",
                  "достав"
                ],
                "hits": [
                  "гофр",
                  "короб",
                  "упаков",
                  "поставщ",
                  "опт",
                  "достав"
                ]
              }
            },
            {
              "id": "UX101.T1.C3",
              "type": "reply_length_min",
              "description": "Ответ должен быть содержательным",
              "passed": true,
              "reason": "Reply length sufficient",
              "details": {
                "min": 140,
                "len": 637
              }
            }
          ]
        },
        {
          "turn": 2,
          "user": "Отфильтруй тех, кто делает брендирование/печать.",
          "requestBody": {
            "message": "Отфильтруй тех, кто делает брендирование/печать.",
            "history": [
              {
                "role": "user",
                "content": "Нужны поставщики гофрокоробов в Минске. Интересует опт, доставка, сроки до 7 дней."
              },
              {
                "role": "assistant",
                "content": "Подходящий кандидат из доступного списка:\n\n1) **АМ-АРТ ООО** — тара и упаковка, Минск (подходит по профилю “тара и упаковка”). /company/biznesinfo-99545\n\nСильных кандидатов в списке пока только 1. Могу сузить/расширить поиск, если уточните:\n1) Какие размеры/тип гофрокоробов нужны (марка картона, профиль)?\n2) Ориентировочный объём/периодичность опта?\n3) Нужна доставка по Минску или в область тоже?\n\nШаблон сравнения поставщиков:\n1. Цена за единицу и условия оплаты.\n2. Срок изготовления/отгрузки и доступность доставки.\n3. Минимальная партия (MOQ) и ограничения по тиражу.\n4. Контакты менеджера и сайт компании для быстрой верификации."
              }
            ]
          },
          "latencyMs": 6690,
          "apiOk": true,
          "status": 200,
          "retryMeta": {
            "quota": 0,
            "busy": 0,
            "rateLimited": 0,
            "stub": 0
          },
          "requestId": "bfb95abf-5e43-4db3-acf8-127874d093eb",
          "isStub": false,
          "reply": "Понял. Для фильтрации по брендированию/печати в Biznesinfo рекомендую:\n\n**Ключевые слова/синонимы для поиска:**\n- «гофрокороба с печатью»\n- «упаковка с печатью»\n- «брендирование упаковки»\n- «флексопечать»\n- «офсетная печать»\n- «логотип на коробках»\n\n**Как сузить в карточках:**\n- Ищите в описании услуги «печать», «брендирование», «нанесение логотипа».\n- В запросе добавляйте «с печатью» или «флексопечать».\n\n**Кандидат из списка:**\n1) **АМ-АРТ ООО** — тара и упаковка, Минск. Рекомендую открыть карточку и проверить наличие «печати/брендирования» в услугах или прайсе.\n\nЧтобы отфильтровать точнее, уточните:\n1) Тип печати (1–2 цвета, полноцвет)?\n2) Примерный тираж и размер коробов?",
          "checks": [
            {
              "id": "UX101.T2.C1",
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "passed": true,
              "reason": "Reply is non-stub",
              "details": {
                "isStub": false
              }
            },
            {
              "id": "UX101.T2.C2",
              "type": "mentions_any_terms",
              "description": "Должна сохраняться связь с исходным товаром",
              "passed": true,
              "reason": "Enough terms mentioned",
              "details": {
                "terms": [
                  "гофро",
                  "короб",
                  "упаков"
                ],
                "min": 1,
                "hits": [
                  "гофро",
                  "короб",
                  "упаков"
                ]
              }
            },
            {
              "id": "UX101.T2.C3",
              "type": "includes_any",
              "description": "Должно учитываться условие брендирования/печати",
              "passed": true,
              "reason": "Matched at least one pattern",
              "details": {
                "patterns": [
                  "бренд",
                  "печат",
                  "нанес",
                  "логотип",
                  "этикет"
                ],
                "hits": [
                  "бренд",
                  "печат",
                  "нанес",
                  "логотип"
                ]
              }
            }
          ]
        },
        {
          "turn": 3,
          "user": "Сравни 5 вариантов: цена/срок/мин. партия. Дай контакты и сайт.",
          "requestBody": {
            "message": "Сравни 5 вариантов: цена/срок/мин. партия. Дай контакты и сайт.",
            "history": [
              {
                "role": "user",
                "content": "Нужны поставщики гофрокоробов в Минске. Интересует опт, доставка, сроки до 7 дней."
              },
              {
                "role": "assistant",
                "content": "Подходящий кандидат из доступного списка:\n\n1) **АМ-АРТ ООО** — тара и упаковка, Минск (подходит по профилю “тара и упаковка”). /company/biznesinfo-99545\n\nСильных кандидатов в списке пока только 1. Могу сузить/расширить поиск, если уточните:\n1) Какие размеры/тип гофрокоробов нужны (марка картона, профиль)?\n2) Ориентировочный объём/периодичность опта?\n3) Нужна доставка по Минску или в область тоже?\n\nШаблон сравнения поставщиков:\n1. Цена за единицу и условия оплаты.\n2. Срок изготовления/отгрузки и доступность доставки.\n3. Минимальная партия (MOQ) и ограничения по тиражу.\n4. Контакты менеджера и сайт компании для быстрой верификации."
              },
              {
                "role": "user",
                "content": "Отфильтруй тех, кто делает брендирование/печать."
              },
              {
                "role": "assistant",
                "content": "Понял. Для фильтрации по брендированию/печати в Biznesinfo рекомендую:\n\n**Ключевые слова/синонимы для поиска:**\n- «гофрокороба с печатью»\n- «упаковка с печатью»\n- «брендирование упаковки»\n- «флексопечать»\n- «офсетная печать»\n- «логотип на коробках»\n\n**Как сузить в карточках:**\n- Ищите в описании услуги «печать», «брендирование», «нанесение логотипа».\n- В запросе добавляйте «с печатью» или «флексопечать».\n\n**Кандидат из списка:**\n1) **АМ-АРТ ООО** — тара и упаковка, Минск. Рекомендую открыть карточку и проверить наличие «печати/брендирования» в услугах или прайсе.\n\nЧтобы отфильтровать точнее, уточните:\n1) Тип печати (1–2 цвета, полноцвет)?\n2) Примерный тираж и размер коробов?"
              }
            ]
          },
          "latencyMs": 7177,
          "apiOk": true,
          "status": 200,
          "retryMeta": {
            "quota": 0,
            "busy": 0,
            "rateLimited": 0,
            "stub": 0
          },
          "requestId": "f4b5bdcf-85c7-4cda-aa9c-1459fda250aa",
          "isStub": false,
          "reply": "Сейчас в доступном списке только **1 подходящий кандидат** по упаковке/гофрокоробам, и по нему нет данных о цене/сроках/мин. партии в карточке. Поэтому сравнить 5 вариантов пока нельзя без расширения поиска.\n\n**Доступный кандидат:**\n1) **АМ-АРТ ООО** — тара и упаковка, Минск  \n   Контакты: (+375-17) 2868003, am_art@tut.by  \n   Сайт: не указан в карточке  \n   Карточка: /company/biznesinfo-99545  \n   Что проверить: наличие печати/брендирования, MOQ, сроки.\n\nМогу расширить поиск в рубриках **«Тара и упаковка» / «Полиграфические услуги, типографии»** по Минску и подобрать 4–6 релевантных компаний с печатью. Уточните, пожалуйста:\n1) Нужна именно **печать по гофрокоробам** или подойдут типографии с нанесением на упаковку в целом?\n2) Какой объём и формат печати (1–2 цвета / полноцвет)?\n3) Только Минск или можно Минская область?\n\nФокус по запросу: отфильтруй, тех, делает.",
          "checks": [
            {
              "id": "UX101.T3.C1",
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "passed": true,
              "reason": "Reply is non-stub",
              "details": {
                "isStub": false
              }
            },
            {
              "id": "UX101.T3.C2",
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом",
              "passed": true,
              "reason": "No refusal markers",
              "details": {
                "refusal": false
              }
            },
            {
              "id": "UX101.T3.C3",
              "type": "any_of",
              "description": "Нужен shortlist с компаниями или прозрачное структурированное сравнение",
              "passed": true,
              "reason": "At least one sub-check passed",
              "details": {
                "sub": [
                  {
                    "type": "company_path_min_count",
                    "passed": false,
                    "reason": "Not enough /company links"
                  },
                  {
                    "type": "all_of",
                    "passed": true,
                    "reason": "All sub-checks passed"
                  }
                ]
              }
            }
          ]
        }
      ],
      "durationMs": 17579
    }
  ]
}
