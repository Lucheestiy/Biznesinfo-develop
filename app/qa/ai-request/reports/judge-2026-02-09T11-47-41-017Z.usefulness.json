{
  "runId": "judge-2026-02-09T11-47-41-017Z",
  "generatedAt": "2026-02-09T11:48:18.915Z",
  "sourceReport": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/reports/latest.json",
  "sourceSummary": {
    "runId": "run-2026-02-09T11-46-50-181Z-1887568-w7t2e",
    "startedAt": "2026-02-09T11:46:50.181Z",
    "endedAt": "2026-02-09T11:47:28.556Z",
    "durationMs": 38375,
    "baseUrl": "http://127.0.0.1:8131",
    "scenarioFile": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/scenarios.regressions.geo-ambiguity.json",
    "totalScenarios": 2,
    "passedScenarios": 2,
    "failedScenarios": 0,
    "passRate": 1,
    "totalChecks": 17,
    "passedChecks": 17,
    "failedChecks": 0,
    "checkPassRate": 1,
    "targetPassCount": 2,
    "targetPassRate": 0.8,
    "targetReached": true,
    "authUser": {
      "id": "bb1de8c3-658c-46cc-9fa4-c8629b43f3d7",
      "email": "qa.ai.runner@example.com",
      "name": "AI QA Runner",
      "role": "user",
      "plan": "paid"
    },
    "stoppedEarly": false,
    "stopReason": null
  },
  "totalScenarios": 2,
  "judges": [
    {
      "judge": "kimi",
      "summary": {
        "total": 2,
        "averageUsefulness": 4.5,
        "usefulCount": 2,
        "notUsefulCount": 0,
        "usefulRate": 1,
        "zeroUsefulnessCount": 0,
        "averageUserSatisfaction": 0.8,
        "continueCount": 2,
        "continueRate": 1,
        "genericFallbackCount": 0,
        "genericFallbackRate": 0,
        "averageContinuityScore": 4.5,
        "topIssues": [
          {
            "issue": "turn 1: не спросил уточнение про город сразу, хотя запрос был неоднозначным",
            "count": 1
          },
          {
            "issue": "turn 2: 'дальше ре…' — обрыв, пользователь не видит полный ответ",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "GA001",
            "usefulness": 4,
            "verdict": "useful",
            "userSatisfaction": 0.75,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 4,
            "reasons": [
              "Turn 1: даёт конкретных производителей из Бреста с объяснениями релевантности",
              "Turn 2: переключается на Минск как базовый, сохраняя контекст поставки в Брест"
            ],
            "criticalIssues": [
              "Turn 1: не спросил уточнение про город сразу, хотя запрос был неоднозначным",
              "Turn 2: 'Дальше ре…' — обрыв, пользователь не видит полный ответ"
            ]
          },
          {
            "scenarioId": "GA002",
            "usefulness": 5,
            "verdict": "useful",
            "userSatisfaction": 0.85,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 5,
            "reasons": [
              "Turn 1: два релевантных поставщика в Минске с контактами и практичными советами",
              "Turn 2: точно переключается на Минскую область, сохраняет предмет (лук репчатый), даёт 4 конкретных кандидата по районам"
            ],
            "criticalIssues": []
          }
        ]
      },
      "ratings": [
        {
          "scenarioId": "GA001",
          "usefulness": 4,
          "verdict": "useful",
          "confidence": 0.85,
          "userSatisfaction": 0.75,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 4,
          "reasons": [
            "Turn 1: даёт конкретных производителей из Бреста с объяснениями релевантности",
            "Turn 2: переключается на Минск как базовый, сохраняя контекст поставки в Брест"
          ],
          "criticalIssues": [
            "Turn 1: не спросил уточнение про город сразу, хотя запрос был неоднозначным",
            "Turn 2: 'Дальше ре…' — обрыв, пользователь не видит полный ответ"
          ],
          "strengths": [
            "Конкретные компании со ссылками и причинами подходимости",
            "Практичный пошаговый план действий в Turn 1"
          ],
          "nextUserProbe": "Какие условия доставки в Брест у Минского молочного завода №1?",
          "judge": "kimi"
        },
        {
          "scenarioId": "GA002",
          "usefulness": 5,
          "verdict": "useful",
          "confidence": 0.9,
          "userSatisfaction": 0.85,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 5,
          "reasons": [
            "Turn 1: два релевантных поставщика в Минске с контактами и практичными советами",
            "Turn 2: точно переключается на Минскую область, сохраняет предмет (лук репчатый), даёт 4 конкретных кандидата по районам"
          ],
          "criticalIssues": [],
          "strengths": [
            "Отличная geo-адаптация: от города к области без потери контекста",
            "Конкретные районы (Минский, Молодечненский, Узденский, Копыль)",
            "Предлагает чек-лист звонка — actionable next step"
          ],
          "nextUserProbe": "У кого из них сейчас есть лук в наличии и какие калибры?",
          "judge": "kimi"
        }
      ]
    },
    {
      "judge": "minimax",
      "summary": {
        "total": 2,
        "averageUsefulness": 4.5,
        "usefulCount": 2,
        "notUsefulCount": 0,
        "usefulRate": 1,
        "zeroUsefulnessCount": 0,
        "averageUserSatisfaction": 0.775,
        "continueCount": 2,
        "continueRate": 1,
        "genericFallbackCount": 0,
        "genericFallbackRate": 0,
        "averageContinuityScore": 4.5,
        "topIssues": [
          {
            "issue": "ответ обрезан посреди предложения ('дальше ре...')",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "GA001",
            "usefulness": 4,
            "verdict": "useful",
            "userSatisfaction": 0.7,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 4,
            "reasons": [
              "Правильно переключился на Минск после уточнения пользователя",
              "Предоставил релевантных поставщиков молока с пояснениями"
            ],
            "criticalIssues": [
              "Ответ обрезан посреди предложения ('Дальше ре...')"
            ]
          },
          {
            "scenarioId": "GA002",
            "usefulness": 5,
            "verdict": "useful",
            "userSatisfaction": 0.85,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 5,
            "reasons": [
              "Идеальное переключение с города на область",
              "Конкретные поставщики с правильными районами Минской области"
            ],
            "criticalIssues": []
          }
        ]
      },
      "ratings": [
        {
          "scenarioId": "GA001",
          "usefulness": 4,
          "verdict": "useful",
          "confidence": 0.85,
          "userSatisfaction": 0.7,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 4,
          "reasons": [
            "Правильно переключился на Минск после уточнения пользователя",
            "Предоставил релевантных поставщиков молока с пояснениями",
            "Обрезанный ответ - пользователь не видит полный список"
          ],
          "criticalIssues": [
            "Ответ обрезан посреди предложения ('Дальше ре...')"
          ],
          "strengths": [
            "Хорошее понимание географического уточнения",
            "Конкретные рекомендации с '/company/' ссылками"
          ],
          "nextUserProbe": "А что насчёт цен? Можете уточнить прайс-лист на молоко у этих поставщиков?",
          "judge": "minimax"
        },
        {
          "scenarioId": "GA002",
          "usefulness": 5,
          "verdict": "useful",
          "confidence": 0.9,
          "userSatisfaction": 0.85,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 5,
          "reasons": [
            "Идеальное переключение с города на область",
            "Конкретные поставщики с правильными районами Минской области",
            "Практичное предложение чек-листа для звонка"
          ],
          "criticalIssues": [],
          "strengths": [
            "Отлично различает Минск и Минскую область",
            "Даёт конкретные ФХ/ООО с их специализацией",
            "Предлагает полезное продолжение (чек-лист)"
          ],
          "nextUserProbe": null,
          "judge": "minimax"
        }
      ]
    }
  ],
  "comparison": {
    "geminiAvg": null,
    "kimiAvg": 4.5,
    "minimaxAvg": 4.5,
    "geminiUserSatisfaction": null,
    "kimiUserSatisfaction": 0.8,
    "geminiContinueRate": null,
    "kimiContinueRate": 1,
    "geminiGenericFallbackRate": null,
    "kimiGenericFallbackRate": 0,
    "avgGap": null,
    "usefulRateGap": null,
    "pairwise": [
      {
        "left": "kimi",
        "right": "minimax",
        "avgGap": 0,
        "usefulRateGap": 0,
        "userSatisfactionGap": 0.025,
        "continueRateGap": 0,
        "genericFallbackRateGap": 0
      }
    ]
  },
  "gate": {
    "enabled": true,
    "pass": true,
    "failures": [],
    "checks": [
      {
        "judge": "kimi",
        "metric": "averageUserSatisfaction",
        "actual": 0.8,
        "expected": ">= 0.72",
        "pass": true
      },
      {
        "judge": "kimi",
        "metric": "continueRate",
        "actual": 1,
        "expected": ">= 0.72",
        "pass": true
      },
      {
        "judge": "kimi",
        "metric": "genericFallbackRate",
        "actual": 0,
        "expected": "<= 0.35",
        "pass": true
      },
      {
        "judge": "minimax",
        "metric": "averageUserSatisfaction",
        "actual": 0.775,
        "expected": ">= 0.72",
        "pass": true
      },
      {
        "judge": "minimax",
        "metric": "continueRate",
        "actual": 1,
        "expected": ">= 0.72",
        "pass": true
      },
      {
        "judge": "minimax",
        "metric": "genericFallbackRate",
        "actual": 0,
        "expected": "<= 0.35",
        "pass": true
      }
    ]
  }
}
