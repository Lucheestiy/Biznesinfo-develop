{
  "runId": "judge-2026-02-09T11-39-52-961Z",
  "generatedAt": "2026-02-09T11:40:39.564Z",
  "sourceReport": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/reports/latest.json",
  "sourceSummary": {
    "runId": "run-2026-02-09T11-38-03-401Z-1865334-9qfyp",
    "startedAt": "2026-02-09T11:38:03.401Z",
    "endedAt": "2026-02-09T11:38:46.290Z",
    "durationMs": 42889,
    "baseUrl": "http://127.0.0.1:8131",
    "scenarioFile": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/scenarios.regressions.geo-ambiguity.json",
    "totalScenarios": 2,
    "passedScenarios": 2,
    "failedScenarios": 0,
    "passRate": 1,
    "totalChecks": 17,
    "passedChecks": 17,
    "failedChecks": 0,
    "checkPassRate": 1,
    "targetPassCount": 2,
    "targetPassRate": 0.8,
    "targetReached": true,
    "authUser": {
      "id": "bb1de8c3-658c-46cc-9fa4-c8629b43f3d7",
      "email": "qa.ai.runner@example.com",
      "name": "AI QA Runner",
      "role": "user",
      "plan": "paid"
    },
    "stoppedEarly": false,
    "stopReason": null
  },
  "totalScenarios": 2,
  "judges": [
    {
      "judge": "kimi",
      "summary": {
        "total": 2,
        "averageUsefulness": 3.5,
        "usefulCount": 2,
        "notUsefulCount": 0,
        "usefulRate": 1,
        "zeroUsefulnessCount": 0,
        "averageUserSatisfaction": 0.7,
        "continueCount": 2,
        "continueRate": 1,
        "genericFallbackCount": 0,
        "genericFallbackRate": 0,
        "averageContinuityScore": 4,
        "topIssues": [
          {
            "issue": "не предложил новых поставщиков из самой области — только те же 2 из минска",
            "count": 1
          },
          {
            "issue": "пользователь явно сказал 'не сам город минск', а ассистент оставил тех же поставщиков",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "GA002",
            "usefulness": 3,
            "verdict": "useful",
            "userSatisfaction": 0.6,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 3,
            "reasons": [
              "Turn 1: 2 релевантных поставщика с конкретными ссылками и чек-листом",
              "Turn 2: сохранил тех же поставщиков но адаптировал под область, дал практичные советы по доставке"
            ],
            "criticalIssues": [
              "Не предложил новых поставщиков из самой области — только те же 2 из Минска",
              "Пользователь явно сказал 'не сам город Минск', а ассистент оставил тех же поставщиков"
            ]
          },
          {
            "scenarioId": "GA001",
            "usefulness": 4,
            "verdict": "useful",
            "userSatisfaction": 0.8,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 5,
            "reasons": [
              "Turn 1: дал конкретных 2 поставщика в Бресте с объяснениями почему",
              "Turn 2: полностью переключился на Минск по запросу пользователя, дал 3 конкретных кандидата"
            ],
            "criticalIssues": []
          }
        ]
      },
      "ratings": [
        {
          "scenarioId": "GA001",
          "usefulness": 4,
          "verdict": "useful",
          "confidence": 0.85,
          "userSatisfaction": 0.8,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 5,
          "reasons": [
            "Turn 1: дал конкретных 2 поставщика в Бресте с объяснениями почему",
            "Turn 2: полностью переключился на Минск по запросу пользователя, дал 3 конкретных кандидата"
          ],
          "criticalIssues": [],
          "strengths": [
            "Сохранил контекст объема 1000 л/нед",
            "Дал практичный план действий с шагами",
            "Честно указал что по Минску в первом срезе не было кандидатов"
          ],
          "nextUserProbe": "Какие документы нужны для работы с этими поставщиками — сертификаты, договор поставки?",
          "judge": "kimi"
        },
        {
          "scenarioId": "GA002",
          "usefulness": 3,
          "verdict": "useful",
          "confidence": 0.7,
          "userSatisfaction": 0.6,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 3,
          "reasons": [
            "Turn 1: 2 релевантных поставщика с конкретными ссылками и чек-листом",
            "Turn 2: сохранил тех же поставщиков но адаптировал под область, дал практичные советы по доставке"
          ],
          "criticalIssues": [
            "Не предложил новых поставщиков из самой области — только те же 2 из Минска",
            "Пользователь явно сказал 'не сам город Минск', а ассистент оставил тех же поставщиков"
          ],
          "strengths": [
            "Адаптировал запрос под доставку в область",
            "Дал конкретные вопросы для уточнения у поставщиков"
          ],
          "nextUserProbe": "А есть ли вообще поставщики непосредственно в Минской области, а не в Минске с доставкой?",
          "judge": "kimi"
        }
      ]
    },
    {
      "judge": "minimax",
      "summary": {
        "total": 2,
        "averageUsefulness": 3.5,
        "usefulCount": 2,
        "notUsefulCount": 0,
        "usefulRate": 1,
        "zeroUsefulnessCount": 0,
        "averageUserSatisfaction": 0.7,
        "continueCount": 2,
        "continueRate": 1,
        "genericFallbackCount": 0,
        "genericFallbackRate": 0,
        "averageContinuityScore": 3.5,
        "topIssues": [
          {
            "issue": "turn 1: should have proactively asked user preference between brest/minsk instead of picking one arbitrarily",
            "count": 1
          },
          {
            "issue": "initial brest-only response slightly ignored the 'or' nature of user's query",
            "count": 1
          },
          {
            "issue": "turn 2: no new region-specific candidates offered — same 2 companies repeated",
            "count": 1
          },
          {
            "issue": "assistant didn't suggest alternative sourcing strategies for genuine oblast suppliers",
            "count": 1
          },
          {
            "issue": "no indication whether these suppliers actually deliver outside мкад or their actual oblast coverage",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "GA002",
            "usefulness": 3,
            "verdict": "useful",
            "userSatisfaction": 0.65,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 3,
            "reasons": [
              "Turn 1: Provided 2 concrete onion suppliers in Minsk area with relevant profiles (fresh vegetables, wholesale)",
              "Turn 2: Honest acknowledgment that same suppliers are Minsk-based but serve области; gave practical advice on how to verify delivery terms"
            ],
            "criticalIssues": [
              "Turn 2: No new region-specific candidates offered — same 2 companies repeated",
              "Assistant didn't suggest alternative sourcing strategies for genuine oblast suppliers"
            ]
          },
          {
            "scenarioId": "GA001",
            "usefulness": 4,
            "verdict": "useful",
            "userSatisfaction": 0.75,
            "wouldContinue": true,
            "feltGenericFallback": false,
            "continuityScore": 4,
            "reasons": [
              "Turn 1: Provided 2 concrete Brest suppliers when user asked Brest OR Minsk; honest about no Minsk candidates in initial slice",
              "Turn 2: When user clarified Minsk as base with Brest delivery, assistant properly pivoted with 3 concrete Minsk suppliers and links"
            ],
            "criticalIssues": [
              "Turn 1: Should have proactively asked user preference between Brest/Minsk instead of picking one arbitrarily",
              "Initial Brest-only response slightly ignored the 'OR' nature of user's query"
            ]
          }
        ]
      },
      "ratings": [
        {
          "scenarioId": "GA001",
          "usefulness": 4,
          "verdict": "useful",
          "confidence": 0.82,
          "userSatisfaction": 0.75,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 4,
          "reasons": [
            "Turn 1: Provided 2 concrete Brest suppliers when user asked Brest OR Minsk; honest about no Minsk candidates in initial slice",
            "Turn 2: When user clarified Minsk as base with Brest delivery, assistant properly pivoted with 3 concrete Minsk suppliers and links",
            "Both turns deliver actionable next steps: supplier links, call checklist, practical 30-40min action plan"
          ],
          "criticalIssues": [
            "Turn 1: Should have proactively asked user preference between Brest/Minsk instead of picking one arbitrarily",
            "Initial Brest-only response slightly ignored the 'OR' nature of user's query"
          ],
          "strengths": [
            "Good practical pivot in Turn 2 when user clarified priorities",
            "Concrete company names with direct links in both responses",
            "Maintained context (milk, оптом, 1000+ л/нед) throughout conversation",
            "Honest about catalog limitations rather than hallucinating Minsk candidates"
          ],
          "nextUserProbe": "А какие из минских поставщиков реально везут в Брест? У кого логистика налажена?",
          "judge": "minimax"
        },
        {
          "scenarioId": "GA002",
          "usefulness": 3,
          "verdict": "useful",
          "confidence": 0.78,
          "userSatisfaction": 0.65,
          "wouldContinue": true,
          "feltGenericFallback": false,
          "continuityScore": 3,
          "reasons": [
            "Turn 1: Provided 2 concrete onion suppliers in Minsk area with relevant profiles (fresh vegetables, wholesale)",
            "Turn 2: Honest acknowledgment that same suppliers are Minsk-based but serve области; gave practical advice on how to verify delivery terms"
          ],
          "criticalIssues": [
            "Turn 2: No new region-specific candidates offered — same 2 companies repeated",
            "Assistant didn't suggest alternative sourcing strategies for genuine oblast suppliers",
            "No indication whether these suppliers actually deliver outside МКАД or their actual oblast coverage"
          ],
          "strengths": [
            "Transparent about catalog limitations - admitted candidates are Minsk-based serving oblast",
            "Practical call questions for verifying delivery terms ( районы, тарифы, самовывоз vs доставка)",
            "Offered alternative: checklist of oblast regions with local farmers/storage as next step",
            "Maintained context (лук, оптом, Минск/область) throughout"
          ],
          "nextUserProbe": "А есть реально областные поставщики? Фермеры или овощехранилища в районах?",
          "judge": "minimax"
        }
      ]
    }
  ],
  "comparison": {
    "geminiAvg": null,
    "kimiAvg": 3.5,
    "minimaxAvg": 3.5,
    "geminiUserSatisfaction": null,
    "kimiUserSatisfaction": 0.7,
    "geminiContinueRate": null,
    "kimiContinueRate": 1,
    "geminiGenericFallbackRate": null,
    "kimiGenericFallbackRate": 0,
    "avgGap": null,
    "usefulRateGap": null,
    "pairwise": [
      {
        "left": "kimi",
        "right": "minimax",
        "avgGap": 0,
        "usefulRateGap": 0,
        "userSatisfactionGap": 0,
        "continueRateGap": 0,
        "genericFallbackRateGap": 0
      }
    ]
  },
  "gate": {
    "enabled": true,
    "pass": false,
    "failures": [
      "kimi averageUserSatisfaction 0.7 < 0.72",
      "minimax averageUserSatisfaction 0.7 < 0.72"
    ],
    "checks": [
      {
        "judge": "kimi",
        "metric": "averageUserSatisfaction",
        "actual": 0.7,
        "expected": ">= 0.72",
        "pass": false
      },
      {
        "judge": "kimi",
        "metric": "continueRate",
        "actual": 1,
        "expected": ">= 0.72",
        "pass": true
      },
      {
        "judge": "kimi",
        "metric": "genericFallbackRate",
        "actual": 0,
        "expected": "<= 0.35",
        "pass": true
      },
      {
        "judge": "minimax",
        "metric": "averageUserSatisfaction",
        "actual": 0.7,
        "expected": ">= 0.72",
        "pass": false
      },
      {
        "judge": "minimax",
        "metric": "continueRate",
        "actual": 1,
        "expected": ">= 0.72",
        "pass": true
      },
      {
        "judge": "minimax",
        "metric": "genericFallbackRate",
        "actual": 0,
        "expected": "<= 0.35",
        "pass": true
      }
    ]
  }
}
