{
  "runId": "judge-2026-02-12T22-00-45-253Z",
  "generatedAt": "2026-02-12T22:01:45.786Z",
  "sourceReport": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/reports/run-2026-02-12T15-47-04-094Z-90489-vjdpy.json",
  "sourceSummary": {
    "runId": "run-2026-02-12T15-47-04-094Z-90489-vjdpy",
    "startedAt": "2026-02-12T15:47:04.094Z",
    "endedAt": "2026-02-12T15:50:27.993Z",
    "durationMs": 203899,
    "baseUrl": "http://127.0.0.1:8131",
    "scenarioFile": "/home/mlweb/biznesinfo-develop.lucheestiy.com/app/qa/ai-request/scenarios.json",
    "totalScenarios": 50,
    "passedScenarios": 32,
    "failedScenarios": 18,
    "passRate": 0.64,
    "totalChecks": 452,
    "passedChecks": 423,
    "failedChecks": 29,
    "checkPassRate": 0.9358,
    "targetPassCount": 45,
    "targetPassRate": 0.9,
    "targetReached": false,
    "authUser": {
      "id": "bb1de8c3-658c-46cc-9fa4-c8629b43f3d7",
      "email": "qa.ai.runner@example.com",
      "name": "AI QA Runner",
      "role": "user",
      "plan": "paid"
    },
    "totalTurnsExecuted": 150,
    "avgTurnLatencyMs": 1356.93,
    "totalTurnLatencyMs": 203539,
    "totalStubReplies": 0,
    "totalBusyRetries": 0,
    "totalRateLimitRetries": 1,
    "totalStubRetries": 0,
    "stoppedEarly": false,
    "stopReason": null
  },
  "totalScenarios": 5,
  "judges": [
    {
      "judge": "codex",
      "summary": {
        "total": 5,
        "averageUsefulness": 1,
        "usefulCount": 0,
        "notUsefulCount": 5,
        "usefulRate": 0,
        "zeroUsefulnessCount": 2,
        "averageUserSatisfaction": 0.188,
        "continueCount": 1,
        "continueRate": 0.2,
        "genericFallbackCount": 5,
        "genericFallbackRate": 1,
        "synthesizedRatingCount": 0,
        "synthesizedRatingRate": 0,
        "averageContinuityScore": 0.8,
        "topIssues": [
          {
            "issue": "финальный топ-3 состоит из категорий, не связанных с закупкой труб.",
            "count": 1
          },
          {
            "issue": "не закрыт ключевой критерий доставки 2-3 дня.",
            "count": 1
          },
          {
            "issue": "ответ на вопрос по сертификатам остался слишком общим, без практичного чек-листа.",
            "count": 1
          },
          {
            "issue": "маркировка «проверенные варианты» не подтверждена фактами.",
            "count": 1
          },
          {
            "issue": "финальный топ-3 не отражает поставщиков товарного бетона.",
            "count": 1
          },
          {
            "issue": "уточнение «южный» и дедлайн на следующую неделю фактически проигнорированы.",
            "count": 1
          },
          {
            "issue": "нарушена continuity после уточнения «уручье».",
            "count": 1
          },
          {
            "issue": "не даны практичные критерии выбора под безнал и договор в финальном ответе.",
            "count": 1
          },
          {
            "issue": "полный срыв предметной релевантности в ключевом ответе.",
            "count": 1
          },
          {
            "issue": "нет фильтра по обслуживанию коммерческих авто.",
            "count": 1
          }
        ],
        "worstScenarios": [
          {
            "scenarioId": "S001",
            "usefulness": 0,
            "verdict": "not_useful",
            "userSatisfaction": 0.05,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 0,
            "reasons": [
              "Кандидаты почти полностью нерелевантны ПНД трубам.",
              "Уточнение «Сухарево» не повлияло на подбор и не улучшило результат."
            ],
            "criticalIssues": [
              "Финальный топ-3 состоит из категорий, не связанных с закупкой труб.",
              "Не закрыт ключевой критерий доставки 2-3 дня."
            ]
          },
          {
            "scenarioId": "S005",
            "usefulness": 0,
            "verdict": "not_useful",
            "userSatisfaction": 0.06,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 0,
            "reasons": [
              "После уточнения локации рекомендации стали полностью нерелевантными шиномонтажу.",
              "Финальный practical top-3 повторяет нерелевантные компании, несмотря на явный запрос."
            ],
            "criticalIssues": [
              "Полный срыв предметной релевантности в ключевом ответе.",
              "Нет фильтра по обслуживанию коммерческих авто."
            ]
          },
          {
            "scenarioId": "S003",
            "usefulness": 1,
            "verdict": "not_useful",
            "userSatisfaction": 0.18,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 1,
            "reasons": [
              "Изначально были релевантные бетонные компании, но финальный рейтинг ушел в нерелевантные категории.",
              "Запрос на надежность и риск срыва поставки не раскрыт под конкретный объем и срок."
            ],
            "criticalIssues": [
              "Финальный топ-3 не отражает поставщиков товарного бетона.",
              "Уточнение «Южный» и дедлайн на следующую неделю фактически проигнорированы."
            ]
          },
          {
            "scenarioId": "S002",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.35,
            "wouldContinue": true,
            "feltGenericFallback": true,
            "continuityScore": 2,
            "reasons": [
              "Есть частично полезные кандидаты и контакты (включая профильного кабельного игрока).",
              "В топ попали нерелевантные компании, а уточнение по району не применено."
            ],
            "criticalIssues": [
              "Ответ на вопрос по сертификатам остался слишком общим, без практичного чек-листа.",
              "Маркировка «проверенные варианты» не подтверждена фактами."
            ]
          },
          {
            "scenarioId": "S004",
            "usefulness": 2,
            "verdict": "not_useful",
            "userSatisfaction": 0.3,
            "wouldContinue": false,
            "feltGenericFallback": true,
            "continuityScore": 1,
            "reasons": [
              "Первые шаги были релевантны клинингу, но решающий ответ резко сломал контекст.",
              "Финальный топ-3 включает компании не из клининга, что делает рекомендацию непригодной."
            ],
            "criticalIssues": [
              "Нарушена continuity после уточнения «Уручье».",
              "Не даны практичные критерии выбора под безнал и договор в финальном ответе."
            ]
          }
        ]
      },
      "diagnostics": {
        "totalBatches": 1,
        "nonJsonRetryBatches": 0,
        "schemaRetryBatches": 0,
        "synthesizedBatches": 0,
        "synthesizedRatingCount": 0,
        "nonJsonRetryRate": 0,
        "schemaRetryRate": 0,
        "synthesizedBatchRate": 0,
        "synthesizedRatingRate": 0
      },
      "ratings": [
        {
          "scenarioId": "S001",
          "usefulness": 0,
          "verdict": "not_useful",
          "confidence": 0.97,
          "userSatisfaction": 0.05,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 0,
          "reasons": [
            "Кандидаты почти полностью нерелевантны ПНД трубам.",
            "Уточнение «Сухарево» не повлияло на подбор и не улучшило результат."
          ],
          "criticalIssues": [
            "Финальный топ-3 состоит из категорий, не связанных с закупкой труб.",
            "Не закрыт ключевой критерий доставки 2-3 дня."
          ],
          "strengths": [
            "Сохраняется общий контекст города Минск."
          ],
          "nextUserProbe": "Оставь только поставщиков ПНД труб в Минске и отдельно пометь тех, кто везет в Сухарево за 2-3 дня.",
          "judge": "codex",
          "synthesized": false
        },
        {
          "scenarioId": "S002",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.85,
          "userSatisfaction": 0.35,
          "wouldContinue": true,
          "feltGenericFallback": true,
          "continuityScore": 2,
          "reasons": [
            "Есть частично полезные кандидаты и контакты (включая профильного кабельного игрока).",
            "В топ попали нерелевантные компании, а уточнение по району не применено."
          ],
          "criticalIssues": [
            "Ответ на вопрос по сертификатам остался слишком общим, без практичного чек-листа.",
            "Маркировка «проверенные варианты» не подтверждена фактами."
          ],
          "strengths": [
            "Контекст города Гомель удержан."
          ],
          "nextUserProbe": "Дай только поставщиков кабеля в Советском районе и 5 конкретных пунктов проверки сертификатов ВВГнг 3х2.5.",
          "judge": "codex",
          "synthesized": false
        },
        {
          "scenarioId": "S003",
          "usefulness": 1,
          "verdict": "not_useful",
          "confidence": 0.93,
          "userSatisfaction": 0.18,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 1,
          "reasons": [
            "Изначально были релевантные бетонные компании, но финальный рейтинг ушел в нерелевантные категории.",
            "Запрос на надежность и риск срыва поставки не раскрыт под конкретный объем и срок."
          ],
          "criticalIssues": [
            "Финальный топ-3 не отражает поставщиков товарного бетона.",
            "Уточнение «Южный» и дедлайн на следующую неделю фактически проигнорированы."
          ],
          "strengths": [
            "Есть попытка обозначить общие риски качества и сроков."
          ],
          "nextUserProbe": "Верни только поставщиков товарного бетона в Бресте и ранжируй по готовности отгрузить 45 м3 на следующей неделе.",
          "judge": "codex",
          "synthesized": false
        },
        {
          "scenarioId": "S004",
          "usefulness": 2,
          "verdict": "not_useful",
          "confidence": 0.9,
          "userSatisfaction": 0.3,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 1,
          "reasons": [
            "Первые шаги были релевантны клинингу, но решающий ответ резко сломал контекст.",
            "Финальный топ-3 включает компании не из клининга, что делает рекомендацию непригодной."
          ],
          "criticalIssues": [
            "Нарушена continuity после уточнения «Уручье».",
            "Не даны практичные критерии выбора под безнал и договор в финальном ответе."
          ],
          "strengths": [
            "На старте предложены несколько подходящих клининговых компаний."
          ],
          "nextUserProbe": "Оставь только клининговые компании Минска и дай приоритет по безналу, договору и выезду в Уручье.",
          "judge": "codex",
          "synthesized": false
        },
        {
          "scenarioId": "S005",
          "usefulness": 0,
          "verdict": "not_useful",
          "confidence": 0.98,
          "userSatisfaction": 0.06,
          "wouldContinue": false,
          "feltGenericFallback": true,
          "continuityScore": 0,
          "reasons": [
            "После уточнения локации рекомендации стали полностью нерелевантными шиномонтажу.",
            "Финальный practical top-3 повторяет нерелевантные компании, несмотря на явный запрос."
          ],
          "criticalIssues": [
            "Полный срыв предметной релевантности в ключевом ответе.",
            "Нет фильтра по обслуживанию коммерческих авто."
          ],
          "strengths": [
            "Есть полезный шаблон вопросов для звонка, но он не компенсирует нерелевантный shortlist."
          ],
          "nextUserProbe": "Нужны только шиномонтажи для коммерческих авто возле Каменной Горки, с приоритетом кого звонить первым сегодня.",
          "judge": "codex",
          "synthesized": false
        }
      ]
    }
  ],
  "comparison": {
    "geminiAvg": null,
    "kimiAvg": null,
    "minimaxAvg": null,
    "geminiUserSatisfaction": null,
    "kimiUserSatisfaction": null,
    "geminiContinueRate": null,
    "kimiContinueRate": null,
    "geminiGenericFallbackRate": null,
    "kimiGenericFallbackRate": null,
    "avgGap": null,
    "usefulRateGap": null,
    "pairwise": []
  },
  "gate": {
    "enabled": false,
    "pass": true,
    "failures": [],
    "checks": []
  }
}
