{
  "meta": {
    "version": "1.0",
    "generatedAt": "2026-02-07T14:25:00Z",
    "source": "user-provided",
    "description": "User-provided scenarios: procurement, fuzzy company lookup, due-diligence"
  },
  "scenarios": [
    {
      "id": "UX101",
      "title": "Закупка гофрокоробов: Минск, опт, доставка, брендирование",
      "personaGoal": "Менеджер по закупкам хочет получить 3-5 поставщиков и короткое сравнение по условиям.",
      "tags": [
        "sourcing",
        "packaging",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Распознать товар как гофротару/гофрокороба/упаковку.",
        "После уточнения про печать не терять исходный контекст.",
        "Дать shortlist и сравнение цена/срок/мин. партия + контакты/сайт или прозрачный fallback без пустого отказа."
      ],
      "strictPassFail": [
        "Каждый ход: не stub, содержательный ответ.",
        "Ход 2: сохранение контекста по гофроупаковке + учет печати/брендирования.",
        "Ход 3: есть конкретные компании либо структурированная таблица/рейтинг по критериям и next steps."
      ],
      "turns": [
        {
          "user": "Нужны поставщики гофрокоробов в Минске. Интересует опт, доставка, сроки до 7 дней.",
          "checks": [
            { "id": "UX101.T1.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX101.T1.C2",
              "type": "includes_any",
              "description": "Ответ должен быть по теме упаковки/поставщиков",
              "patterns": ["гофр", "короб", "упаков", "поставщ", "опт", "достав"]
            },
            {
              "id": "UX101.T1.C3",
              "type": "reply_length_min",
              "min": 140,
              "description": "Ответ должен быть содержательным"
            }
          ]
        },
        {
          "user": "Отфильтруй тех, кто делает брендирование/печать.",
          "checks": [
            { "id": "UX101.T2.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX101.T2.C2",
              "type": "mentions_any_terms",
              "description": "Должна сохраняться связь с исходным товаром",
              "terms": ["гофро", "короб", "упаков"],
              "min": 1
            },
            {
              "id": "UX101.T2.C3",
              "type": "includes_any",
              "description": "Должно учитываться условие брендирования/печати",
              "patterns": ["бренд", "печат", "нанес", "логотип", "этикет"]
            }
          ]
        },
        {
          "user": "Сравни 5 вариантов: цена/срок/мин. партия. Дай контакты и сайт.",
          "checks": [
            { "id": "UX101.T3.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            { "id": "UX101.T3.C2", "type": "not_refusal_only", "description": "Ответ не должен быть пустым отказом" },
            {
              "id": "UX101.T3.C3",
              "type": "any_of",
              "description": "Нужен shortlist с компаниями или прозрачное структурированное сравнение",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 3,
                  "description": "Минимум 3 ссылки вида /company/..."
                },
                {
                  "type": "all_of",
                  "description": "Если нет явных компаний, нужна методика сравнения",
                  "checks": [
                    { "type": "numbered_list_min", "min": 3, "description": "Минимум 3 нумерованных пункта" },
                    {
                      "type": "includes_any",
                      "description": "Должны быть критерии сравнения и контакты",
                      "patterns": ["цена", "срок", "мин", "парт", "контакт", "сайт", "критер"]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "UX102",
      "title": "Фаззи-поиск компании по обрывкам названия",
      "personaGoal": "Бухгалтер ищет карточку компании, не помня точное написание и домен.",
      "tags": [
        "company_lookup",
        "fuzzy",
        "translit",
        "multi_turn"
      ],
      "expectedBehavior": [
        "Поддержать fuzzy/опечатки/транслит.",
        "Показать несколько кандидатов и чем они отличаются.",
        "Подсветить важные атрибуты: город, УНП, юр. адрес, форма собственности."
      ],
      "strictPassFail": [
        "Каждый ход: не stub, содержательный ответ.",
        "Ответы не должны быть пустым отказом.",
        "В финале есть структурированное сравнение вариантов."
      ],
      "turns": [
        {
          "user": "Компания вроде ‘Бел...Транс...Сервис’, город Брест. Нужен УНП и юридический адрес.",
          "checks": [
            { "id": "UX102.T1.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX102.T1.C2",
              "type": "includes_any",
              "description": "Ответ должен быть по теме поиска компании",
              "patterns": ["бел", "транс", "сервис", "брест", "унп", "адрес", "компан"]
            },
            {
              "id": "UX102.T1.C3",
              "type": "reply_length_min",
              "min": 120,
              "description": "Ответ должен быть содержательным"
            }
          ]
        },
        {
          "user": "У них сайт был с тире, я не помню точный домен.",
          "checks": [
            { "id": "UX102.T2.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX102.T2.C2",
              "type": "includes_any",
              "description": "Должна учитываться подсказка по домену/сайту",
              "patterns": ["сайт", "домен", "тире", "вариант", "транслит", "beltrans"]
            },
            { "id": "UX102.T2.C3", "type": "not_refusal_only", "description": "Не должен быть пустой отказ" }
          ]
        },
        {
          "user": "Нашлось несколько — покажи, чем отличаются.",
          "checks": [
            { "id": "UX102.T3.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX102.T3.C2",
              "type": "all_of",
              "description": "Должно быть структурированное сравнение вариантов",
              "checks": [
                { "type": "numbered_list_min", "min": 2, "description": "Минимум 2 варианта" },
                {
                  "type": "includes_any",
                  "description": "Должны быть признаки отличий компаний",
                  "patterns": ["унп", "адрес", "город", "форма", "ооо", "зао", "ип", "отлич"]
                }
              ]
            },
            { "id": "UX102.T3.C3", "type": "not_refusal_only", "description": "Не должен быть пустой отказ" }
          ]
        }
      ]
    },
    {
      "id": "UX103",
      "title": "Проверка контрагента перед договором (дью-дилидженс)",
      "personaGoal": "Юрист/комплаенс хочет быстро получить структурированный риск-обзор.",
      "tags": [
        "due_diligence",
        "risk_flags",
        "multi_turn"
      ],
      "expectedBehavior": [
        "Дать структурированный ответ по статусу/регистрации/контактам/рискам.",
        "Подсветить флаги ликвидации/банкротства/массового адреса как сигналы риска.",
        "Дать резюме рисков 5-7 пунктов и дисклеймер, что это не юрзаключение."
      ],
      "strictPassFail": [
        "Каждый ход: не stub, содержательный ответ.",
        "Ответы структурированы и релевантны комплаенс-задаче.",
        "Финальный ответ содержит 5+ риск-пунктов."
      ],
      "turns": [
        {
          "user": "Проверь контрагента по УНП 19xxxxxxx: статус, адрес, руководитель, виды деятельности.",
          "checks": [
            { "id": "UX103.T1.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX103.T1.C2",
              "type": "includes_any",
              "description": "Должны быть структурные блоки проверки",
              "patterns": ["статус", "адрес", "руковод", "вид", "деятель", "унп", "контрагент"]
            },
            { "id": "UX103.T1.C3", "type": "reply_length_min", "min": 120, "description": "Ответ должен быть содержательным" }
          ]
        },
        {
          "user": "Есть ли признаки ликвидации/банкротства/массового адреса?",
          "checks": [
            { "id": "UX103.T2.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            {
              "id": "UX103.T2.C2",
              "type": "includes_any",
              "description": "Должны быть risk-flags по запросу",
              "patterns": ["ликвидац", "банкрот", "массов", "риск", "флаг", "провер"]
            },
            { "id": "UX103.T2.C3", "type": "not_refusal_only", "description": "Не должен быть пустой отказ" }
          ]
        },
        {
          "user": "Сделай краткое резюме рисков на 5–7 пунктов.",
          "checks": [
            { "id": "UX103.T3.C1", "type": "not_stub", "description": "Ответ не должен быть stub/заглушкой" },
            { "id": "UX103.T3.C2", "type": "numbered_list_min", "min": 5, "description": "Должно быть минимум 5 пунктов" },
            {
              "id": "UX103.T3.C3",
              "type": "includes_any",
              "description": "Должны быть риск-маркеры/дисклеймер",
              "patterns": ["риск", "флаг", "не является", "не юр", "дисклеймер", "провер"]
            }
          ]
        }
      ]
    }
  ]
}
