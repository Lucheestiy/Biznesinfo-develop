{
  "meta": {
    "version": 1,
    "generatedAt": "2026-02-07T20:42:04.928Z",
    "endpoint": "/api/ai/request",
    "localeHint": "mostly-ru-with-mixed-en",
    "totalScenarios": 11,
    "suite": "dirty_realworld",
    "source": "10 real-world dirty queries (telegraphic, short, typo-like) + follow-up turns for continuity and structured output checks"
  },
  "scenarios": [
    {
      "id": "D001",
      "title": "Dirty query: типография визитки срочно",
      "personaGoal": "Реальный быстрый запрос с минимальным контекстом и телеграфным стилем.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "нужна типография минск срочно визитки",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D001.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D001.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D001.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "типограф",
                "визит",
                "печат"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D001.T1.C4"
            }
          ]
        },
        {
          "user": "малиновка, сегодня до 18, безнал",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D001.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D001.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "типограф",
                "визит",
                "печат"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D001.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "минск",
                "малинов"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D001.T2.C4"
            }
          ]
        },
        {
          "user": "дай 3 варианта и что спросить по срокам/тиражу",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D001.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D001.T3.C2"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Желательно дать хотя бы 1 конкретный кандидат"
                },
                {
                  "type": "all_of",
                  "checks": [
                    {
                      "type": "numbered_list_min",
                      "min": 2,
                      "description": "Если конкретных карточек мало, нужен структурированный shortlist"
                    },
                    {
                      "type": "includes_any",
                      "patterns": [
                        "критер",
                        "риск",
                        "почему",
                        "вопрос",
                        "провер",
                        "топ",
                        "shortlist"
                      ],
                      "description": "Нужны критерии/валидация выбора"
                    }
                  ],
                  "description": "При ограниченных данных нужен прозрачный метод выбора"
                }
              ],
              "description": "Нужен практичный shortlist либо прозрачный план отбора",
              "id": "D001.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D002",
      "title": "Dirty query: проверка УНП",
      "personaGoal": "Пользователь с обрывочным номером УНП и запросом на верификацию.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "verification"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "проверь унп 19... действующая?",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D002.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D002.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D002.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "унп",
                "провер",
                "действ"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D002.T1.C4"
            }
          ]
        },
        {
          "user": "если нет exact то как проверить быстро самому",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D002.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D002.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "унп",
                "провер",
                "действ"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D002.T2.C3"
            },
            {
              "type": "reply_length_min",
              "min": 80,
              "description": "Должен быть содержательный follow-up ответ",
              "id": "D002.T2.C4"
            }
          ]
        },
        {
          "user": "дай чеклист 5 пунктов без воды",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D002.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D002.T3.C2"
            },
            {
              "type": "includes_any",
              "patterns": [
                "провер",
                "реестр",
                "источник",
                "официаль",
                "данных",
                "унп",
                "карточк"
              ],
              "description": "Должны быть корректные шаги верификации",
              "id": "D002.T3.C3"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "numbered_list_min",
                  "min": 3,
                  "description": "Должно быть минимум 3 нумерованных пункта"
                },
                {
                  "type": "question_count_min",
                  "min": 2,
                  "description": "Должно быть минимум 2 вопрос(а)"
                }
              ],
              "description": "Нужен структурированный чеклист/план",
              "id": "D002.T3.C4"
            }
          ]
        }
      ]
    },
    {
      "id": "D003",
      "title": "Dirty query: реф-перевозки маршрут и цена",
      "personaGoal": "Логист задает запрос без грамматики, но с маршрутом и ценовым ожиданием.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "грузоперевозки реф минск гомель цена",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D003.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D003.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D003.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "грузопер",
                "реф",
                "темпера",
                "достав"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D003.T1.C4"
            }
          ]
        },
        {
          "user": "2-3т, завтра утром, темп +2..+6",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D003.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D003.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "грузопер",
                "реф",
                "темпера",
                "достав"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D003.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "минск",
                "гомел"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D003.T2.C4"
            }
          ]
        },
        {
          "user": "shortlist 3 и вопросы по температурному контролю",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D003.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D003.T3.C2"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Желательно дать хотя бы 1 конкретный кандидат"
                },
                {
                  "type": "all_of",
                  "checks": [
                    {
                      "type": "numbered_list_min",
                      "min": 2,
                      "description": "Если конкретных карточек мало, нужен структурированный shortlist"
                    },
                    {
                      "type": "includes_any",
                      "patterns": [
                        "критер",
                        "риск",
                        "почему",
                        "вопрос",
                        "провер",
                        "топ",
                        "shortlist"
                      ],
                      "description": "Нужны критерии/валидация выбора"
                    }
                  ],
                  "description": "При ограниченных данных нужен прозрачный метод выбора"
                }
              ],
              "description": "Нужен практичный shortlist либо прозрачный план отбора",
              "id": "D003.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D004",
      "title": "Dirty query: металлопрокат опт",
      "personaGoal": "Закупка опта в телеграфном стиле с минимумом деталей.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "металлопрокат опт кто возит",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D004.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D004.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D004.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "металлопрок",
                "опт",
                "возит",
                "постав"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D004.T1.C4"
            }
          ]
        },
        {
          "user": "по рб, от 5т, можно отсрочка?",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D004.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D004.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "металлопрок",
                "опт",
                "возит",
                "постав"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D004.T2.C3"
            },
            {
              "type": "reply_length_min",
              "min": 80,
              "description": "Должен быть содержательный follow-up ответ",
              "id": "D004.T2.C4"
            }
          ]
        },
        {
          "user": "топ-3 и риски по качеству/срокам",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D004.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D004.T3.C2"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Желательно дать хотя бы 1 конкретный кандидат"
                },
                {
                  "type": "all_of",
                  "checks": [
                    {
                      "type": "numbered_list_min",
                      "min": 2,
                      "description": "Если конкретных карточек мало, нужен структурированный shortlist"
                    },
                    {
                      "type": "includes_any",
                      "patterns": [
                        "критер",
                        "риск",
                        "почему",
                        "вопрос",
                        "провер",
                        "топ",
                        "shortlist"
                      ],
                      "description": "Нужны критерии/валидация выбора"
                    }
                  ],
                  "description": "При ограниченных данных нужен прозрачный метод выбора"
                }
              ],
              "description": "Нужен практичный shortlist либо прозрачный план отбора",
              "id": "D004.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D005",
      "title": "Dirty query: бухучет аутсорс ООО Минск",
      "personaGoal": "Предприниматель формулирует запрос обрывками и ожидает быстрый shortlist.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "аутсорс бух учет ооо минск",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D005.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D005.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D005.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "бух",
                "учет",
                "аутсор",
                "ооо"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D005.T1.C4"
            }
          ]
        },
        {
          "user": "нужен договор, эдо, 1с",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D005.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D005.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "бух",
                "учет",
                "аутсор",
                "ооо"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D005.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "минск"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D005.T2.C4"
            }
          ]
        },
        {
          "user": "кого первым прозвонить и 5 вопросов",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D005.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D005.T3.C2"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Желательно дать хотя бы 1 конкретный кандидат"
                },
                {
                  "type": "all_of",
                  "checks": [
                    {
                      "type": "numbered_list_min",
                      "min": 2,
                      "description": "Если конкретных карточек мало, нужен структурированный shortlist"
                    },
                    {
                      "type": "includes_any",
                      "patterns": [
                        "критер",
                        "риск",
                        "почему",
                        "вопрос",
                        "провер",
                        "топ",
                        "shortlist"
                      ],
                      "description": "Нужны критерии/валидация выбора"
                    }
                  ],
                  "description": "При ограниченных данных нужен прозрачный метод выбора"
                }
              ],
              "description": "Нужен практичный shortlist либо прозрачный план отбора",
              "id": "D005.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D006",
      "title": "Dirty query: вентиляция склад проект+монтаж",
      "personaGoal": "Запрос техподрядчика без пунктуации и со сжатыми требованиями.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "вентиляция склад проект монтаж",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D006.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D006.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D006.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "вентиляц",
                "склад",
                "проект",
                "монтаж"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D006.T1.C4"
            }
          ]
        },
        {
          "user": "могилев, объект 1200м2",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D006.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D006.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "вентиляц",
                "склад",
                "проект",
                "монтаж"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D006.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "могил"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D006.T2.C4"
            }
          ]
        },
        {
          "user": "рейтинг 3 подрядчиков и риски",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D006.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D006.T3.C2"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Желательно дать хотя бы 1 конкретный кандидат"
                },
                {
                  "type": "all_of",
                  "checks": [
                    {
                      "type": "numbered_list_min",
                      "min": 2,
                      "description": "Если конкретных карточек мало, нужен структурированный shortlist"
                    },
                    {
                      "type": "includes_any",
                      "patterns": [
                        "критер",
                        "риск",
                        "почему",
                        "вопрос",
                        "провер",
                        "топ",
                        "shortlist"
                      ],
                      "description": "Нужны критерии/валидация выбора"
                    }
                  ],
                  "description": "При ограниченных данных нужен прозрачный метод выбора"
                }
              ],
              "description": "Нужен практичный shortlist либо прозрачный план отбора",
              "id": "D006.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D007",
      "title": "Dirty query: сертификат соответствия",
      "personaGoal": "Пользователь хочет быстро понять куда идти и какие документы нужны.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "verification"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "сертификат соответствия где сделать",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D007.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D007.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D007.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "сертифик",
                "соответств",
                "док"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D007.T1.C4"
            }
          ]
        },
        {
          "user": "для продукции рб, быстро",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D007.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D007.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "сертифик",
                "соответств",
                "док"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D007.T2.C3"
            },
            {
              "type": "reply_length_min",
              "min": 80,
              "description": "Должен быть содержательный follow-up ответ",
              "id": "D007.T2.C4"
            }
          ]
        },
        {
          "user": "дай план: куда идти и какие доки",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D007.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D007.T3.C2"
            },
            {
              "type": "includes_any",
              "patterns": [
                "провер",
                "реестр",
                "источник",
                "официаль",
                "данных",
                "унп",
                "карточк"
              ],
              "description": "Должны быть корректные шаги верификации",
              "id": "D007.T3.C3"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "numbered_list_min",
                  "min": 3,
                  "description": "Должно быть минимум 3 нумерованных пункта"
                },
                {
                  "type": "question_count_min",
                  "min": 2,
                  "description": "Должно быть минимум 2 вопрос(а)"
                }
              ],
              "description": "Нужен структурированный чеклист/план",
              "id": "D007.T3.C4"
            }
          ]
        }
      ]
    },
    {
      "id": "D008",
      "title": "Dirty query: уборка после ремонта",
      "personaGoal": "Срочный запрос B2B-услуги в разговорном стиле.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "ranking"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "уборка после ремонта минск фирма",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D008.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D008.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D008.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "уборк",
                "ремонт",
                "фирм",
                "договор"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D008.T1.C4"
            }
          ]
        },
        {
          "user": "завтра утром, 300м2, юрлицо",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D008.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D008.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "уборк",
                "ремонт",
                "фирм",
                "договор"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D008.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "минск"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D008.T2.C4"
            }
          ]
        },
        {
          "user": "дай shortlist + что включить в договор",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D008.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D008.T3.C2"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Желательно дать хотя бы 1 конкретный кандидат"
                },
                {
                  "type": "all_of",
                  "checks": [
                    {
                      "type": "numbered_list_min",
                      "min": 2,
                      "description": "Если конкретных карточек мало, нужен структурированный shortlist"
                    },
                    {
                      "type": "includes_any",
                      "patterns": [
                        "критер",
                        "риск",
                        "почему",
                        "вопрос",
                        "провер",
                        "топ",
                        "shortlist"
                      ],
                      "description": "Нужны критерии/валидация выбора"
                    }
                  ],
                  "description": "При ограниченных данных нужен прозрачный метод выбора"
                }
              ],
              "description": "Нужен практичный shortlist либо прозрачный план отбора",
              "id": "D008.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D009",
      "title": "Dirty query: коробки с логотипом",
      "personaGoal": "Закупщик упаковки хочет сразу получить поставщиков и готовый outreach.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "template"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "поставщик коробок с логотипом",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D009.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D009.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D009.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "короб",
                "логотип",
                "упаков",
                "тираж"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D009.T1.C4"
            }
          ]
        },
        {
          "user": "тираж 10к, минск",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D009.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D009.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "короб",
                "логотип",
                "упаков",
                "тираж"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D009.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "минск"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D009.T2.C4"
            }
          ]
        },
        {
          "user": "сделай письмо-запрос КП (subject/body/whatsapp)",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D009.T3.C1"
            },
            {
              "type": "template_blocks",
              "description": "Должны быть блоки Subject / Body / WhatsApp",
              "id": "D009.T3.C2"
            },
            {
              "type": "reply_length_min",
              "min": 120,
              "description": "Длина ответа минимум 120 символов",
              "id": "D009.T3.C3"
            }
          ]
        }
      ]
    },
    {
      "id": "D010",
      "title": "Dirty query: как добавить компанию",
      "personaGoal": "Новый пользователь без онбординга, задает короткий вопрос.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "onboarding"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "как добавить мою компанию сюда",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D010.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D010.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D010.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "добав",
                "компан",
                "сюда",
                "регистра"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D010.T1.C4"
            }
          ]
        },
        {
          "user": "без регистрации можно?",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D010.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D010.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "добав",
                "компан",
                "сюда",
                "регистра"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D010.T2.C3"
            },
            {
              "type": "reply_length_min",
              "min": 80,
              "description": "Должен быть содержательный follow-up ответ",
              "id": "D010.T2.C4"
            }
          ]
        },
        {
          "user": "дай пошагово 1-2-3 и что подготовить",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D010.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D010.T3.C2"
            },
            {
              "type": "numbered_list_min",
              "min": 3,
              "description": "Нужна пошаговая инструкция",
              "id": "D010.T3.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "добав",
                "компан",
                "регистра",
                "кабинет",
                "форма",
                "заявк",
                "add-company"
              ],
              "description": "Должен быть практический путь добавления компании",
              "id": "D010.T3.C4"
            }
          ]
        }
      ]
    },
    {
      "id": "D011",
      "title": "Regression: молоко Брест -> сырье 1.5% -> вывоз в Витебск",
      "personaGoal": "Реальный кейс: после уточнения условий ассистент не должен скатываться в общие рубрики без конкретики.",
      "tags": [
        "dirty_input",
        "real_world",
        "multi_turn",
        "continuity_candidates"
      ],
      "expectedBehavior": [
        "Понимать телеграфный/грязный пользовательский ввод без ухода в stub или пустой отказ.",
        "Сохранять контекст между короткими доуточнениями и основным бизнес-интентом.",
        "Возвращать actionable-ответ в структурированном виде (shortlist/чеклист/template)."
      ],
      "strictPassFail": [
        "Ход 1: корректная интерпретация грязного запроса и полезный first-pass.",
        "Ход 2: продолжение по теме с учетом уточнений, без потери контекста.",
        "Ход 3: структурированный итог (рейтинг/чеклист/шаблон) без пустого отказа."
      ],
      "turns": [
        {
          "user": "Где купить тонну молока в Бресте?",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D011.T1.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D011.T1.C2"
            },
            {
              "type": "reply_length_min",
              "min": 90,
              "description": "Длина ответа минимум 90 символов",
              "id": "D011.T1.C3"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "молок",
                "сыр",
                "брест",
                "витеб"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с ключевыми сущностями запроса",
              "id": "D011.T1.C4"
            }
          ]
        },
        {
          "user": "Сырая, 1.5 процента, вывоз в Витебск",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D011.T2.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D011.T2.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "молок",
                "сыр",
                "брест",
                "витеб"
              ],
              "min": 1,
              "description": "Должна сохраняться связь с исходной задачей",
              "id": "D011.T2.C3"
            },
            {
              "type": "includes_any",
              "patterns": [
                "брест",
                "витеб"
              ],
              "description": "Если есть гео-сигнал, он должен учитываться",
              "id": "D011.T2.C4"
            }
          ]
        },
        {
          "user": "Дай 2-3 релевантных варианта или честно скажи что не нашел, но без общих советов",
          "checks": [
            {
              "type": "not_stub",
              "description": "Ответ не должен быть stub/заглушкой",
              "id": "D011.T3.C1"
            },
            {
              "type": "not_refusal_only",
              "description": "Ответ не должен быть пустым отказом без полезного next step",
              "id": "D011.T3.C2"
            },
            {
              "type": "mentions_any_terms",
              "terms": [
                "молок",
                "сыр",
                "брест",
                "витеб"
              ],
              "min": 2,
              "description": "Должна сохраниться связь с продуктом и локацией после уточнения",
              "id": "D011.T3.C3"
            },
            {
              "type": "any_of",
              "checks": [
                {
                  "type": "company_path_min_count",
                  "min": 1,
                  "description": "Нужен хотя бы один конкретный кандидат /company/..."
                },
                {
                  "type": "includes_any",
                  "patterns": [
                    "не наш",
                    "нет релевант",
                    "недостаточно",
                    "не могу подтверд",
                    "сейчас нет подтвержденных"
                  ],
                  "description": "Если кандидатов нет, это нужно сказать явно и прозрачно"
                }
              ],
              "description": "Нужны либо конкретные кандидаты, либо честное прозрачное ограничение",
              "id": "D011.T3.C4"
            }
          ]
        }
      ]
    }
  ]
}
